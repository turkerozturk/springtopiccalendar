<!--
This file is part of the DailyTopicTracker project.
Please refer to the project's README.md file for additional details.
https://github.com/turkerozturk/springtopiccalendar
-->
<div th:fragment="fragpredictiontopics" xmlns:th="http://www.thymeleaf.org" th:remove="tag">

<table class="table table-striped table-sm">
    <thead>
    <tr>
        <th>Date</th>
        <th>Topic</th>

    </tr>
    </thead>
    <tbody>
    <tr th:each="topic : ${predictionTopics}">

        <td>
            <a th:text="${T(java.time.format.DateTimeFormatter).ofPattern('yyyy-MM-dd EEE')
                                  .format(T(java.time.Instant).ofEpochMilli(topic.predictionDateMillisYmd)
                                  .atZone(T(java.time.ZoneId).systemDefault())
                                  .toLocalDate())}"
                th:href="@{/entries/new(topicId=${topic.id},
                           dateYmd=${T(java.time.format.DateTimeFormatter).ofPattern('yyyy-MM-dd')
                                  .format(T(java.time.Instant).ofEpochMilli(topic.predictionDateMillisYmd)
                                  .atZone(T(java.time.ZoneId).systemDefault())
                                  .toLocalDate())},
                           categoryId=${topic.category.id},
                           returnPage=pivottable)}"
                th:title="${topic.predictionDateMillisYmd}">
            </a>
        </td>

        <td>
            <a th:href="@{/entry-filter/form?categoryId={id}(id=${topic.category.id})}"
               th:text="${topic.name}"></a>
        </td>

    </tr>
    </tbody>
</table>

</div>
